<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông tin Sản phẩm</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <%- include('partials/sidebar.ejs') %>

    <div class="main-content">
        <header>
            <h2>Thông tin Sản phẩm</h2>
            <input type="text" id="search-bar" placeholder="Tìm kiếm sản phẩm..." onkeyup="searchProducts()">

            <select id="supplier-filter">
                <option value="">Chọn Nhà cung cấp</option>
            </select>
            <button onclick="filterBySupplier()">Lọc</button>
            <button onclick="filterOutOfStock()">Hiển thị hàng hết kho</button>
            <button onclick="refreshTable()">Làm mới</button>

            <section class="controls">
                <button onclick="toggleForm('add-product-form-container')">Thêm Sản phẩm mới</button>
                <button onclick="toggleForm('add-supplier-form-container')">Thêm Nhà cung cấp mới</button>
            </section>
        </header>
        
        <div id="add-product-form-container" style="display: none;">
            <h3>Thêm Sản phẩm mới</h3>
            <form id="add-product-form">
                <label for="product-name">Tên sản phẩm:</label>
                <input type="text" id="product-name" name="Product_Code" required>
                
                <label for="supplier-id">Nhà cung cấp (ID):</label>
                <input type="number" id="supplier-id" name="Supplier_ID" required>
                
                <label for="buy-price">Giá mua:</label>
                <input type="number" id="buy-price" name="BuyPrice" step="0.01" required>
                
                <label for="product-rating">Đánh giá sản phẩm:</label>
                <input type="number" id="product-rating" name="ProductRating" required>
                
                <label for="quantity-in-stock">Số lượng trong kho:</label>
                <input type="number" id="quantity-in-stock" name="QuantityInStock" required>
                
                <button type="submit">Thêm sản phẩm</button>
            </form>
        </div>
        
        <div id="add-supplier-form-container" style="display: none;">
            <h3>Thêm Nhà cung cấp mới</h3>
            <form id="add-supplier-form">
                <label for="supplier-name">Tên nhà cung cấp:</label>
                <input type="text" id="supplier-name" name="SupplierName" required>
        
                <label for="supplier-email">Email nhà cung cấp:</label>
                <input type="text" id="supplier-email" name="SupplierEmail" required>
        
                <label for="supplier-address">Địa chỉ nhà cung cấp:</label>
                <input type="text" id="supplier-address" name="SupplierAddress" required>
                
                <button type="submit">Thêm nhà cung cấp</button>
            </form>
        </div>
        
        <section class="product-table">
            <table id="product-table">
                <thead>
                    <tr>
                        <th>Mã Sản phẩm</th>
                        <th>Mã Code</th>
                        <th>Số lượng Đơn hàng</th>
                        <th>Tên Nhà cung cấp</th>
                        <th>Số lượng trong kho</th>
                    </tr>
                </thead>
                <tbody id="product-data">
                </tbody>
            </table>
        </section>
    </div>

    <script src="/js/product.js"></script>
</body>
</html>
